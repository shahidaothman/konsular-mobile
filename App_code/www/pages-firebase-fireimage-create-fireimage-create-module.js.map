{"version":3,"sources":["webpack:///./src/app/pages/firebase/fireimage-create/fireimage-create.module.ts","webpack:///./src/app/pages/firebase/fireimage-create/fireimage-create.page.html","webpack:///./src/app/pages/firebase/fireimage-create/fireimage-create.page.scss","webpack:///./src/app/pages/firebase/fireimage-create/fireimage-create.page.ts"],"names":[],"mappings":"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","file":"pages-firebase-fireimage-create-fireimage-create-module.js","sourcesContent":[" \nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FireimageCreatePage } from './fireimage-create.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FireimageCreatePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FireimageCreatePage]\n})\nexport class FireimageCreatePageModule { }\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\" color=\\\"light\\\">\\n      <ion-back-button defaultHref=\\\"home\\\" color=\\\"light\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Add New Image List\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div class=\\\"div_img\\\" (click)=\\\"addImage()\\\">\\n    <img src=\\\"assets/images/camera1.png\\\" *ngIf=\\\"image ==''\\\" class=\\\"img_logo\\\" />\\n    <ion-spinner name=\\\"circles\\\" *ngIf=\\\"uploading\\\" class=\\\"my_spin\\\"></ion-spinner>\\n    <img [src]=\\\"image\\\" *ngIf=\\\"image != ''\\\" class=\\\"img_logo\\\" />\\n  </div>\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Title</ion-label>\\n    <ion-input [(ngModel)]=\\\"title\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Description</ion-label>\\n    <ion-textarea [(ngModel)]=\\\"description\\\"></ion-textarea>\\n  </ion-item>\\n\\n  <ion-button expand=\\\"block\\\" color=\\\"secondary\\\" margin-top (click)=\\\"addList()\\\" [disabled]=\\\"isCreate\\\">\\n    <span *ngIf=\\\"!isCreate\\\">\\n      Add List\\n    </span>\\n    <ion-spinner name=\\\"dots\\\" *ngIf=\\\"isCreate\\\"></ion-spinner>\\n  </ion-button>\\n</ion-content>\"","module.exports = \".div_img {\\n  width: 250px;\\n  height: 250px;\\n  background-color: lightgray;\\n  position: relative;\\n  display: block;\\n  margin: auto;\\n  background-size: cover;\\n  background-position: center; }\\n  .div_img .my_spin {\\n    position: absolute;\\n    left: 50%;\\n    top: 50%;\\n    transform: translate(-50%, -50%); }\\n  .div_img .img_logo {\\n    width: 200px;\\n    height: 200px;\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -50%); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90ZWNobGFiL3Byb2plY3QvdW5pamF5YS9pb25pYy9rb25zdWxhci1tb2JpbGUvQXBwX2NvZGUvc3JjL2FwcC9wYWdlcy9maXJlYmFzZS9maXJlaW1hZ2UtY3JlYXRlL2ZpcmVpbWFnZS1jcmVhdGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksWUFBWTtFQUNaLGFBQWE7RUFDYiwyQkFBMkI7RUFDM0Isa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLDJCQUEyQixFQUFBO0VBUi9CO0lBVVEsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxRQUFPO0lBQ1AsZ0NBQStCLEVBQUE7RUFidkM7SUFnQlEsWUFBWTtJQUNaLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLFNBQVM7SUFDVCxnQ0FBK0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ZpcmViYXNlL2ZpcmVpbWFnZS1jcmVhdGUvZmlyZWltYWdlLWNyZWF0ZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIgXG4uZGl2X2ltZ3tcbiAgICB3aWR0aDogMjUwcHg7XG4gICAgaGVpZ2h0OiAyNTBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAubXlfc3BpbntcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgIHRvcDo1MCU7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7XG4gICAgfVxuICAgIC5pbWdfbG9nb3sgICAgICBcbiAgICAgICAgd2lkdGg6IDIwMHB4O1xuICAgICAgICBoZWlnaHQ6IDIwMHB4O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7XG4gICAgfVxufSJdfQ== */\""," \nimport { Component, OnInit } from '@angular/core';\nimport { UtilService } from 'src/app/providers/util.service';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { NavController, ActionSheetController } from '@ionic/angular';\nimport { Camera, CameraOptions } from \"@ionic-native/camera/ngx\";\nimport { AngularFireUploadTask, AngularFireStorageReference, AngularFireStorage } from 'angularfire2/storage';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { finalize } from 'rxjs/operators';\n@Component({\n  selector: 'app-fireimage-create',\n  templateUrl: './fireimage-create.page.html',\n  styleUrls: ['./fireimage-create.page.scss'],\n})\nexport class FireimageCreatePage implements OnInit {\n  isCreate: boolean;\n  title: any;\n  description: any;\n  image: any;\n  task: AngularFireUploadTask;\n  ref: AngularFireStorageReference;\n  uploadState: Observable<string>;\n  downloadURL: Observable<string>;\n  uploadProgress: Observable<number>;\n  url: any;\n  uploading: boolean;\n  constructor(\n    private util: UtilService,\n    private adb: AngularFirestore,\n    private navCtrl: NavController,\n    private actionSheetController: ActionSheetController,\n    private cameraCtrl: Camera,\n    private afStorage: AngularFireStorage,\n  ) {\n    this.title = '';\n    this.description = '';\n    this.image = '';\n    this.url = '';\n  }\n\n  ngOnInit() {\n    this.isCreate = false;\n    this.uploading = false;\n  }\n  addList() {\n    if (this.title == '') {\n      this.util.showWarningAlert('Please Add Title');\n      return false;\n    }\n    if (this.description == '') {\n      this.util.showWarningAlert('Please add Description');\n      return false;\n    }\n    if (this.image == '') {\n      this.util.showWarningAlert('Please Add Image');\n      return false;\n    }\n    if (this.url != '' && !this.uploading) {\n      this.isCreate = true;\n      let id = this.makeid(10);\n      this.adb.collection('fireimage').doc(localStorage.getItem('uid')).collection('list').doc(id).set({\n        id: id,\n        title: this.title,\n        description: this.description,\n        image: this.url,\n        timestamp: new Date().toISOString(),\n      }).then(() => {\n        console.log('added');\n        this.isCreate = false;\n        this.navCtrl.back();\n        this.util.showToast('List Added', 'success', 'bottom');\n      }).catch((error: any) => {\n        console.log('error', error);\n        this.isCreate = false;\n        this.util.showErrorAlert(\"Something went Wrong\");\n      })\n    }\n  }\n  makeid(length) {\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    return text;\n  }\n\n\n\n  async addImage() {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Choose From',\n      buttons: [\n        {\n          text: 'Camera',\n          icon: 'camera',\n          handler: () => {\n            console.log('camera clicked');\n            this.takePhoto();\n          }\n        }, {\n          text: 'Gallery',\n          icon: 'images',\n          handler: () => {\n            console.log('gallery clicked');\n            this.gallery();\n          }\n        }, {\n          text: 'Cancel',\n          icon: 'close',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }]\n    });\n    await actionSheet.present();\n  }\n\n  async gallery() {\n    try {\n      const options: CameraOptions = {\n        quality: 100,\n        targetHeight: 500,\n        targetWidth: 500,\n        destinationType: this.cameraCtrl.DestinationType.DATA_URL,\n        encodingType: this.cameraCtrl.EncodingType.JPEG,\n        mediaType: this.cameraCtrl.MediaType.PICTURE,\n        sourceType: this.cameraCtrl.PictureSourceType.PHOTOLIBRARY,\n        correctOrientation: true\n      }\n      const result = await this.cameraCtrl.getPicture(options);\n      this.image = `data:image/png;base64,${result}`;\n      this.uploadimage();\n    }\n    catch (e) {\n      console.error(e);\n    }\n  } // take Gallary\n\n  async takePhoto() {\n    try {\n      const options: CameraOptions = {\n        quality: 100,\n        targetHeight: 500,\n        targetWidth: 500,\n        destinationType: this.cameraCtrl.DestinationType.DATA_URL,\n        encodingType: this.cameraCtrl.EncodingType.PNG,\n        mediaType: this.cameraCtrl.MediaType.PICTURE,\n        sourceType: this.cameraCtrl.PictureSourceType.CAMERA,\n        correctOrientation: true\n      }\n      const result = await this.cameraCtrl.getPicture(options);\n      this.image = `data:image/png;base64,${result}`;\n      this.uploadimage();\n    }\n    catch (e) {\n      console.error(e);\n    }\n  }\n\n  uploadimage() {\n    const id = this.makeid(30);\n    this.uploading = true;\n    this.ref = this.afStorage.ref(`images/${id}`)\n    this.task = this.ref.putString(this.image, 'data_url')\n    this.uploadState = this.task.snapshotChanges().pipe(map(s => s.state));\n    this.uploadProgress = this.task.percentageChanges();\n    console.log('upload progress', this.uploadProgress);\n    this.task.snapshotChanges().pipe(\n      finalize(() => {\n        this.downloadURL = this.ref.getDownloadURL()\n        this.downloadURL.subscribe(url => {\n          console.log('download uril', url);\n          this.url = url;\n          this.uploading = false;\n        });\n      })\n    )\n      .subscribe();\n  }\n\n}\n"],"sourceRoot":""}