/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { FivIcon } from './../icon/icon.component';
import { FivExpandable } from './../expandable/expandable.component';
import { Component, Input, HostBinding, HostListener, Optional, Host, ViewChild } from '@angular/core';
import { Router, NavigationEnd } from '@angular/router';
import { filter } from 'rxjs/operators';
export class FivRouterItem {
    /**
     * @param {?} router
     * @param {?} host
     */
    constructor(router, host) {
        this.router = router;
        this.host = host;
        this.active = false;
        this.detailIcon = 'ios-arrow-forward';
        this.disabled = false;
        this.matchChildUrl = false;
        this.navigate = true;
        /**
         * The position of the active state.
         * Default value is: `"left"`
         */
        this.position = 'left';
        /**
         * The shape of the active state.
         * Possible values are: `"line"`, `"dot"` and `"rounded"`.
         * Default value is: `"line"`
         */
        this.shape = 'line';
    }
    /**
     * @return {?}
     */
    onclick() {
        if (this.navigate && this.pageUrl) {
            this.router.navigateByUrl(this.pageUrl);
        }
    }
    /**
     * @return {?}
     */
    get classes() {
        return `${this.position} ${this.shape}`;
    }
    /**
     * @return {?}
     */
    get activeClass() {
        return this.matchActiveUrl() || this.active;
    }
    /**
     * @return {?}
     */
    get disabledClass() {
        return this.disabled;
    }
    /**
     * @return {?}
     */
    ngOnInit() { }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        this.router.events
            .pipe(filter((/**
         * @param {?} event
         * @return {?}
         */
        event => event instanceof NavigationEnd)), filter((/**
         * @param {?} event
         * @return {?}
         */
        (event) => event.url === this.pageUrl)))
            .subscribe((/**
         * @return {?}
         */
        () => this.openExpandableHost()));
    }
    /**
     * @return {?}
     */
    openExpandableHost() {
        /** @type {?} */
        const isActive = this.matchActiveUrl() || this.active;
        if (isActive) {
            if (this.host && !this.host.isOpen) {
                this.host.open();
            }
        }
    }
    /**
     * @return {?}
     */
    getClasses() {
        return [this.position, this.shape];
    }
    /**
     * @return {?}
     */
    matchActiveUrl() {
        return this.matchChildUrl ? this.isChildUrl() : this.isCurrentUrl();
    }
    /**
     * @return {?}
     */
    isCurrentUrl() {
        return this.router.url === this.pageUrl;
    }
    /**
     * @return {?}
     */
    isChildUrl() {
        return this.router.url.startsWith(this.pageUrl);
    }
}
FivRouterItem.decorators = [
    { type: Component, args: [{
                selector: 'fiv-router-item',
                template: "<ion-menu-toggle auto-hide=\"false\">\n    <fiv-ripple>\n        <ion-item [color]=\"color\" [detail]=\"detail\" [detailIcon]=\"detailIcon\" [disabled]=\"disabled\" [lines]=\"lines\">\n            <fiv-icon #fivIcon *ngIf=\"icon\" [name]=\"icon\"></fiv-icon>\n            <ion-label>{{text}}</ion-label>\n        </ion-item>\n    </fiv-ripple>\n</ion-menu-toggle>\n<span [ngClass]=\"getClasses()\" class=\"indicator\"></span>",
                styles: [":host{display:block;position:relative;width:100%}:host(.active){--color-active:var(--ion-color-primary)}:host(.active) ion-item{--color:var(--color-active)}:host(.line){--width-line:4px;--background-line:var(--ion-color-primary)}:host(.active) .line{display:block;background:var(--background-line)}:host.active.left .line{width:var(--width-line);height:100%;top:0}:host.active.right .line{width:var(--width-line);height:100%;top:0}.indicator{position:absolute}:host.active .dot{display:block}:host.active.dot.left{padding-left:24px}.dot{width:var(--fiv-dot-width,8px);height:var(--fiv-dot-heigt,8px);background-color:var(--fiv-dot-color,var(--ion-color-primary));top:50%;border-radius:100%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:8px;display:none}.dot.left{left:8px;right:unset}.dot.right{right:8px}:host(.rounded.left){--border-radius-rounded-left:0 50px 50px 0}:host(.rounded.left) ion-item{--border-radius:var(--border-radius-rounded-left)}:host(.rounded.right){--border-radius-rounded-right:50px 0 0 50px}:host(.rounded.right) ion-item{--border-radius:var(--border-radius-rounded-right)}:host(.active.rounded){--background-rounded:var(--ion-color-primary-rgb);--opacity-rounded:0.25}:host(.active.rounded) ion-item{--background:rgba(var(--background-rounded), var(--opacity-rounded))}.left{left:0}.right{right:0}ion-item{--border-style:none}fiv-icon{--fiv-padding-end:8px}ion-item:hover{--background-hover:var(--ion-color-light);cursor:pointer;--background:var(--background-hover)}:host(.router-item-disabled){pointer-events:none}"]
            }] }
];
/** @nocollapse */
FivRouterItem.ctorParameters = () => [
    { type: Router },
    { type: FivExpandable, decorators: [{ type: Optional }, { type: Host }] }
];
FivRouterItem.propDecorators = {
    fivIcon: [{ type: ViewChild, args: ['fivIcon',] }],
    active: [{ type: Input }],
    color: [{ type: Input }],
    detail: [{ type: Input }],
    detailIcon: [{ type: Input }],
    disabled: [{ type: Input }],
    icon: [{ type: Input }],
    lines: [{ type: Input }],
    matchChildUrl: [{ type: Input }],
    navigate: [{ type: Input }],
    pageUrl: [{ type: Input }],
    position: [{ type: Input }],
    shape: [{ type: Input }],
    text: [{ type: Input }],
    onclick: [{ type: HostListener, args: ['click',] }],
    classes: [{ type: HostBinding, args: ['class',] }],
    activeClass: [{ type: HostBinding, args: ['class.active',] }],
    disabledClass: [{ type: HostBinding, args: ['class.router-item-disabled',] }]
};
if (false) {
    /** @type {?} */
    FivRouterItem.prototype.fivIcon;
    /** @type {?} */
    FivRouterItem.prototype.active;
    /** @type {?} */
    FivRouterItem.prototype.color;
    /** @type {?} */
    FivRouterItem.prototype.detail;
    /** @type {?} */
    FivRouterItem.prototype.detailIcon;
    /** @type {?} */
    FivRouterItem.prototype.disabled;
    /** @type {?} */
    FivRouterItem.prototype.icon;
    /** @type {?} */
    FivRouterItem.prototype.lines;
    /** @type {?} */
    FivRouterItem.prototype.matchChildUrl;
    /** @type {?} */
    FivRouterItem.prototype.navigate;
    /** @type {?} */
    FivRouterItem.prototype.pageUrl;
    /**
     * The position of the active state.
     * Default value is: `"left"`
     * @type {?}
     */
    FivRouterItem.prototype.position;
    /**
     * The shape of the active state.
     * Possible values are: `"line"`, `"dot"` and `"rounded"`.
     * Default value is: `"line"`
     * @type {?}
     */
    FivRouterItem.prototype.shape;
    /** @type {?} */
    FivRouterItem.prototype.text;
    /** @type {?} */
    FivRouterItem.prototype.router;
    /**
     * @type {?}
     * @private
     */
    FivRouterItem.prototype.host;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyLWl0ZW0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZpdmV0aHJlZS9jb3JlLyIsInNvdXJjZXMiOlsibGliL3JvdXRlci1pdGVtL3JvdXRlci1pdGVtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUNyRSxPQUFPLEVBQ0wsU0FBUyxFQUVULEtBQUssRUFDTCxXQUFXLEVBQ1gsWUFBWSxFQUNaLFFBQVEsRUFDUixJQUFJLEVBQ0osU0FBUyxFQUVWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFeEQsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBT3hDLE1BQU0sT0FBTyxhQUFhOzs7OztJQXdEeEIsWUFDUyxNQUFjLEVBQ08sSUFBbUI7UUFEeEMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNPLFNBQUksR0FBSixJQUFJLENBQWU7UUF2RHhDLFdBQU0sR0FBRyxLQUFLLENBQUM7UUFNZixlQUFVLEdBQUcsbUJBQW1CLENBQUM7UUFFakMsYUFBUSxHQUFHLEtBQUssQ0FBQztRQU1qQixrQkFBYSxHQUFHLEtBQUssQ0FBQztRQUV0QixhQUFRLEdBQUcsSUFBSSxDQUFDOzs7OztRQVFoQixhQUFRLEdBQXFCLE1BQU0sQ0FBQzs7Ozs7O1FBT3BDLFVBQUssR0FBK0IsTUFBTSxDQUFDO0lBeUJqRCxDQUFDOzs7O0lBckJtQixPQUFPO1FBQzVCLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUN6QztJQUNILENB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bSAnLi8uLi9pY29uL2ljb24uY29tcG9uZW50JztcbmltcG9ydCB7IEZpdkV4cGFuZGFibGUgfSBmcm9tICcuLy4uL2V4cGFuZGFibGUvZXhwYW5kYWJsZS5jb21wb25lbnQnO1xuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsXG4gIElucHV0LFxuICBIb3N0QmluZGluZyxcbiAgSG9zdExpc3RlbmVyLFxuICBPcHRpb25hbCxcbiAgSG9zdCxcbiAgVmlld0NoaWxkLFxuICBBZnRlclZpZXdJbml0XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGVyLCBOYXZpZ2F0aW9uRW5kIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnQGlvbmljL2NvcmUnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdmaXYtcm91dGVyLWl0ZW0nLFxuICB0ZW1wbGF0ZVVybDogJy4vcm91dGVyLWl0ZW0uY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9yb3V0ZXItaXRlbS5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIEZpdlJvdXRlckl0ZW0gaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQge1xuICBAVmlld0NoaWxkKCdmaXZJY29uJykgZml2SWNvbjogRml2SWNvbjtcblxuICBASW5wdXQoKSBhY3RpdmUgPSBmYWxzZTtcblxuICBASW5wdXQoKSBjb2xvcj86IENvbG9yO1xuXG4gIEBJbnB1dCgpIGRldGFpbD86IGJvb2xlYW47XG5cbiAgQElucHV0KCkgZGV0YWlsSWNvbiA9ICdpb3MtYXJyb3ctZm9yd2FyZCc7XG5cbiAgQElucHV0KCkgZGlzYWJsZWQgPSBmYWxzZTtcblxuICBASW5wdXQoKSBpY29uPzogc3RyaW5nO1xuXG4gIEBJbnB1dCgpIGxpbmVzPzogJ2Z1bGwnIHwgJ2luc2V0JyB8ICdub25lJztcblxuICBASW5wdXQoKSBtYXRjaENoaWxkVXJsID0gZmFsc2U7XG5cbiAgQElucHV0KCkgbmF2aWdhdGUgPSB0cnVlO1xuXG4gIEBJbnB1dCgpIHBhZ2VVcmw6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBhY3RpdmUgc3RhdGUuXG4gICAqIERlZmF1bHQgdmFsdWUgaXM6IGBcImxlZnRcImBcbiAgICovXG4gIEBJbnB1dCgpIHBvc2l0aW9uOiAnbGVmdCcgfCAncmlnaHQnID0gJ2xlZnQnO1xuXG4gIC8qKlxuICAgKiBUaGUgc2hhcGUgb2YgdGhlIGFjdGl2ZSBzdGF0ZS5cbiAgICogUG9zc2libGUgdmFsdWVzIGFyZTogYFwibGluZVwiYCwgYFwiZG90XCJgIGFuZCBgXCJyb3VuZGVkXCJgLlxuICAgKiBEZWZhdWx0IHZhbHVlIGlzOiBgXCJsaW5lXCJgXG4gICAqL1xuICBASW5wdXQoKSBzaGFwZTogJ2xpbmUnIHwgJ2RvdCcgfCAncm91bmRlZCcgPSAnbGluZSc7XG5cbiAgQElucHV0KCkgdGV4dDogc3RyaW5nO1xuXG4gIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJykgb25jbGljaygpIHtcbiAgICBpZiAodGhpcy5uYXZpZ2F0ZSAmJiB0aGlzLnBhZ2VVcmwpIHtcbiAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwodGhpcy5wYWdlVXJsKTtcbiAgICB9XG4gIH1cblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzJykgZ2V0IGNsYXNzZXMoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dGhpcy5wb3NpdGlvbn0gJHt0aGlzLnNoYXBlfWA7XG4gIH1cblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmFjdGl2ZScpIGdldCBhY3RpdmVDbGFzcygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXRjaEFjdGl2ZVVybCgpIHx8IHRoaXMuYWN0aXZlO1xuICB9XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5yb3V0ZXItaXRlbS1kaXNhYmxlZCcpIGdldCBkaXNhYmxlZENsYXNzKCkge1xuICAgIHJldHVybiB0aGlzLmRpc2FibGVkO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJvdXRlcjogUm91dGVyLFxuICAgIEBPcHRpb25hbCgpIEBIb3N0KCkgcHJpdmF0ZSBob3N0OiBGaXZFeHBhbmRhYmxlXG4gICkge31cblxuICBuZ09uSW5pdCgpIHt9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHRoaXMucm91dGVyLmV2ZW50c1xuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcihldmVudCA9PiBldmVudCBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQpLFxuICAgICAgICBmaWx0ZXIoKGV2ZW50OiBOYXZpZ2F0aW9uRW5kKSA9PiBldmVudC51cmwgPT09IHRoaXMucGFnZVVybClcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5vcGVuRXhwYW5kYWJsZUhvc3QoKSk7XG4gIH1cblxuICBvcGVuRXhwYW5kYWJsZUhvc3QoKSB7XG4gICAgY29uc3QgaXNBY3RpdmUgPSB0aGlzLm1hdGNoQWN0aXZlVXJsKCkgfHwgdGhpcy5hY3RpdmU7XG4gICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICBpZiAodGhpcy5ob3N0ICYmICF0aGlzLmhvc3QuaXNPcGVuKSB7XG4gICAgICAgIHRoaXMuaG9zdC5vcGVuKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NlcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFt0aGlzLnBvc2l0aW9uLCB0aGlzLnNoYXBlXTtcbiAgfVxuXG4gIG1hdGNoQWN0aXZlVXJsKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1hdGNoQ2hpbGRVcmwgPyB0aGlzLmlzQ2hpbGRVcmwoKSA6IHRoaXMuaXNDdXJyZW50VXJsKCk7XG4gIH1cblxuICBpc0N1cnJlbnRVcmwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucm91dGVyLnVybCA9PT0gdGhpcy5wYWdlVXJsO1xuICB9XG5cbiAgaXNDaGlsZFVybCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5yb3V0ZXIudXJsLnN0YXJ0c1dpdGgodGhpcy5wYWdlVXJsKTtcbiAgfVxufVxuIl19